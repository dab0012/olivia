
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>olivia_finder.myrequests.request_handler module &#8212; Olivia Finder  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="olivia_finder.myrequests.useragent_handler module" href="olivia_finder.myrequests.useragent_handler.html" />
    <link rel="prev" title="olivia_finder.myrequests.proxy_handler module" href="olivia_finder.myrequests.proxy_handler.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-olivia_finder.myrequests.request_handler">
<span id="olivia-finder-myrequests-request-handler-module"></span><h1>olivia_finder.myrequests.request_handler module<a class="headerlink" href="#module-olivia_finder.myrequests.request_handler" title="Permalink to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="olivia_finder.myrequests.request_handler.RequestHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">olivia_finder.myrequests.request_handler.</span></span><span class="sig-name descname"><span class="pre">RequestHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">proxy_handler</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="olivia_finder.myrequests.proxy_handler.html#olivia_finder.myrequests.proxy_handler.ProxyHandler" title="olivia_finder.myrequests.proxy_handler.ProxyHandler"><span class="pre">ProxyHandler</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">useragents_handler</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="olivia_finder.myrequests.useragent_handler.html#olivia_finder.myrequests.useragent_handler.UserAgentHandler" title="olivia_finder.myrequests.useragent_handler.UserAgentHandler"><span class="pre">UserAgentHandler</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_retry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request_timeout</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">60</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_processes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/olivia_finder/myrequests/request_handler.html#RequestHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#olivia_finder.myrequests.request_handler.RequestHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class that handles HTTP requests in a more transparent way in scraping and denial of service environments
by the servers from which the data is requested 
Basically, it manages the proxies and user agents so that scraping is not detected</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>proxy_handler</strong> (<a class="reference internal" href="olivia_finder.myrequests.proxy_handler.html#olivia_finder.myrequests.proxy_handler.ProxyHandler" title="olivia_finder.myrequests.proxy_handler.ProxyHandler"><em>ProxyHandler</em></a><em>, </em><em>optional</em>) – Proxy handler to use, defaults to None</p></li>
<li><p><strong>useragents_handler</strong> (<a class="reference internal" href="olivia_finder.myrequests.useragent_handler.html#olivia_finder.myrequests.useragent_handler.UserAgentHandler" title="olivia_finder.myrequests.useragent_handler.UserAgentHandler"><em>UserAgentHandler</em></a><em>, </em><em>optional</em>) – User agent handler to use, defaults to None</p></li>
<li><p><strong>max_retry</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum number of retries for each request, defaults to REQUEST_MAX_RETRIES</p></li>
<li><p><strong>request_timeout</strong> (<em>int</em><em>, </em><em>optional</em>) – Timeout for each request, defaults to REQUEST_TIMEOUT</p></li>
<li><p><strong>num_processes</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of processes to use for parallel requests, defaults to NUM_PROCESSES</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>RequestHandler</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#olivia_finder.myrequests.request_handler.RequestHandler" title="olivia_finder.myrequests.request_handler.RequestHandler">RequestHandler</a></p>
</dd>
</dl>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#olivia_finder.myrequests.request_handler.RequestHandler.do_parallel_requests" title="olivia_finder.myrequests.request_handler.RequestHandler.do_parallel_requests"><code class="xref py py-obj docutils literal notranslate"><span class="pre">do_parallel_requests</span></code></a>(url_list[, param_list, ...])</p></td>
<td><p>Do parallel requests to the given urls, with the given parameters if any</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#olivia_finder.myrequests.request_handler.RequestHandler.do_request" title="olivia_finder.myrequests.request_handler.RequestHandler.do_request"><code class="xref py py-obj docutils literal notranslate"><span class="pre">do_request</span></code></a>(url[, params])</p></td>
<td><p>Do a request to the given url</p></td>
</tr>
</tbody>
</table>
<dl class="py attribute">
<dt class="sig sig-object py" id="olivia_finder.myrequests.request_handler.RequestHandler.proxy_handler">
<span class="sig-name descname"><span class="pre">proxy_handler</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="olivia_finder.myrequests.proxy_handler.html#olivia_finder.myrequests.proxy_handler.ProxyHandler" title="olivia_finder.myrequests.proxy_handler.ProxyHandler"><span class="pre">ProxyHandler</span></a></em><a class="headerlink" href="#olivia_finder.myrequests.request_handler.RequestHandler.proxy_handler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="olivia_finder.myrequests.request_handler.RequestHandler.useragents_handler">
<span class="sig-name descname"><span class="pre">useragents_handler</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="olivia_finder.myrequests.useragent_handler.html#olivia_finder.myrequests.useragent_handler.UserAgentHandler" title="olivia_finder.myrequests.useragent_handler.UserAgentHandler"><span class="pre">UserAgentHandler</span></a></em><a class="headerlink" href="#olivia_finder.myrequests.request_handler.RequestHandler.useragents_handler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="olivia_finder.myrequests.request_handler.RequestHandler.LOCK">
<span class="sig-name descname"><span class="pre">LOCK</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">allocate_lock</span></em><a class="headerlink" href="#olivia_finder.myrequests.request_handler.RequestHandler.LOCK" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="olivia_finder.myrequests.request_handler.RequestHandler.current_proxy_index">
<span class="sig-name descname"><span class="pre">current_proxy_index</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#olivia_finder.myrequests.request_handler.RequestHandler.current_proxy_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="olivia_finder.myrequests.request_handler.RequestHandler.current_useragent_index">
<span class="sig-name descname"><span class="pre">current_useragent_index</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#olivia_finder.myrequests.request_handler.RequestHandler.current_useragent_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="olivia_finder.myrequests.request_handler.RequestHandler.REQUEST_MAX_RETRIES">
<span class="sig-name descname"><span class="pre">REQUEST_MAX_RETRIES</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">5</span></em><a class="headerlink" href="#olivia_finder.myrequests.request_handler.RequestHandler.REQUEST_MAX_RETRIES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="olivia_finder.myrequests.request_handler.RequestHandler.REQUEST_TIMEOUT">
<span class="sig-name descname"><span class="pre">REQUEST_TIMEOUT</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">60</span></em><a class="headerlink" href="#olivia_finder.myrequests.request_handler.RequestHandler.REQUEST_TIMEOUT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="olivia_finder.myrequests.request_handler.RequestHandler.NUM_PROCESSES">
<span class="sig-name descname"><span class="pre">NUM_PROCESSES</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4</span></em><a class="headerlink" href="#olivia_finder.myrequests.request_handler.RequestHandler.NUM_PROCESSES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="olivia_finder.myrequests.request_handler.RequestHandler.do_request">
<span class="sig-name descname"><span class="pre">do_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Response</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/olivia_finder/myrequests/request_handler.html#RequestHandler.do_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#olivia_finder.myrequests.request_handler.RequestHandler.do_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Do a request to the given url</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>str</em>) – Url to do the request</p></li>
<li><p><strong>params</strong> (<em>dict</em><em>, </em><em>optional</em>) – Parameters to pass to the request, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tuple with the url and the response if the request was successful, None otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Union[Tuple[str, requests.Response], None]</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#olivia_finder.myrequests.request_handler.RequestError" title="olivia_finder.myrequests.request_handler.RequestError"><strong>RequestError</strong></a> – If there is an error doing the request</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Tuple with the url and the response if the request was successful, None otherwise</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Union[Tuple[str, requests.Response], None]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="olivia_finder.myrequests.request_handler.RequestHandler.do_parallel_requests">
<span class="sig-name descname"><span class="pre">do_parallel_requests</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress_bar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">tqdm</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Response</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/olivia_finder/myrequests/request_handler.html#RequestHandler.do_parallel_requests"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#olivia_finder.myrequests.request_handler.RequestHandler.do_parallel_requests" title="Permalink to this definition">¶</a></dt>
<dd><p>Do parallel requests to the given urls, with the given parameters if any</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url_list</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of urls to do the requests</p></li>
<li><p><strong>param_list</strong> (<em>List</em><em>[</em><em>dict</em><em>]</em><em>, </em><em>optional</em>) – List of parameters to pass to the requests, defaults to None</p></li>
<li><p><strong>progress_bar</strong> (<em>tqdm.tqdm</em><em>, </em><em>optional</em>) – Progress bar to use, defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of tuples with the url and the response if the request was successful, None otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[Union[Tuple[str, requests.Response], None]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="olivia_finder.myrequests.request_handler.RequestError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">olivia_finder.myrequests.request_handler.</span></span><span class="sig-name descname"><span class="pre">RequestError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Response</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/olivia_finder/myrequests/request_handler.html#RequestError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#olivia_finder.myrequests.request_handler.RequestError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Raised when there is an error making a request.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>response</strong> – Response object</p>
</dd>
</dl>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">Olivia Finder</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../olivia_finder.html">olivia_finder package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../olivia_finder.html#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../olivia_finder.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../olivia_finder.html#module-olivia_finder">Module contents</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../olivia_finder.html">olivia_finder package</a><ul>
  <li><a href="olivia_finder.myrequests.html">olivia_finder.myrequests package</a><ul>
      <li>Previous: <a href="olivia_finder.myrequests.proxy_handler.html" title="previous chapter">olivia_finder.myrequests.proxy_handler module</a></li>
      <li>Next: <a href="olivia_finder.myrequests.useragent_handler.html" title="next chapter">olivia_finder.myrequests.useragent_handler module</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, Daniel Alonso Báscones.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.1.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/olivia_finder/myrequests/olivia_finder.myrequests.request_handler.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>